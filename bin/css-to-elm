#!/usr/bin/env node
require('babel-register')
const fs = require('fs')
const cssToElm = require('../index').default

const fileName = 'test/fixtures/example.css'
fs.readFile(fileName, (err, css) => {
  cssToElm(css, fileName)
        .then(result => {
          file = "import Css exposing (..)\n"
          file += "import Css.Elements exposing (..)\n\n"
          file += "css = \n "
          file += result
          fs.writeFile('gen.elm', file)
        })
        .catch(error => console.error(error))
        // TODO log errors better
})